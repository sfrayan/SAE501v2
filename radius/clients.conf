#
# clients.conf - Configuration des clients RADIUS (NAS)
#
# Fichier: radius/clients.conf
# Auteur: GroupeNani
# Date: 2 février 2026
# Version: 2.0 - Configuration simplifiée (pas de VLAN)
#
# Description:
#   Définit les clients RADIUS autorisés (Routeurs/NAS) qui peuvent
#   communiquer avec le serveur FreeRADIUS.
#
# Utilisation:
#   À copier vers: /etc/freeradius/3.0/clients.conf
#

#############################################################################
# CLIENT: TL-MR100 - Routeur Principal
#############################################################################
client 192.168.10.100 {
    # Adresse IP du routeur
    ipaddr  = 192.168.10.100

    # Nom du client (pour la documentation)
    shortname = TL-MR100
    
    # Secret partagé entre routeur et serveur
    # ⚠️ IMPORTANT: Doit être identique dans la config du routeur
    # Générer: openssl rand -hex 16 (32 caractères minimum)
    secret = Pj8K2qL9xR5wM3nP7dF4vB6tH1sQ9cZ2

    # Protocole utilisé
    protocol = udp
    
    # Options supplémentaires
    # Accepter les paquets fragmentés
    require_message_authenticator = no
    
    # Activer l'enregistrement détaillé
    # log_clients = yes
}

#############################################################################
# CLIENT: localhost (Pour tests locaux et radtest)
#############################################################################
client localhost {
    # Adresse IP de loopback
    ipaddr    = 127.0.0.1
    shortname = localhost

    # Secret pour les tests locaux (radtest)
    secret    = testing123

    proto     = udp
}

#############################################################################
# NOTES DE CONFIGURATION
#############################################################################
#
# ARCHITECTURE RÉSEAU (Simplifiée - Pas de VLAN):
#
#   Réseau unique: 192.168.10.0/24
#   ├─ Routeur TL-MR100: 192.168.10.100
#   ├─ Serveur RADIUS: 192.168.10.254
#   └─ Clients Wi-Fi: 192.168.10.1-99 (DHCP)
#
#   SSID 1: "Fitness-Pro" (WPA2-Enterprise + RADIUS)
#   SSID 2: "Fitness-Guest" (WPA2-PSK)
#
# SECRET PARTAGÉ:
#   - Minimum 16 caractères (32+ recommandé)
#   - Doit être IDENTIQUE dans clients.conf ET config routeur
#   - À changer en production
#   - Générer: openssl rand -hex 16
#
# IP CLIENTS:
#   - Utiliser l'IP du routeur/NAS: 192.168.10.100
#   - Peut être FQDN (ex: router.gym.fr)
#   - IPv6 supporté (ex: 2001:db8::1)
#
# FLUX AUTHENTIFICATION:
#   Client Wi-Fi → Routeur (192.168.10.100) → Serveur RADIUS (192.168.10.254:1812)
#   Le routeur doit être dans cette liste pour être accepté
#
#############################################################################
