#
# clients.conf - Configuration des clients RADIUS (NAS)
#
# Fichier: radius/clients.conf
# Auteur: GroupeNani
# Date: 12 janvier 2026
#
# Description:
#   Définit les clients RADIUS autorisés (Routeurs/NAS) qui peuvent
#   communiquer avec le serveur FreeRADIUS.
#
# Utilisation:
#   À copier vers: /etc/freeradius/3.0/clients.conf
#

#############################################################################
# CLIENT: TL-MR100 - Routeur Principal
#############################################################################
client 192.168.10.1 {
    # Adresse IP du routeur
    ipaddr  = 192.168.10.1

    # Nom du client (pour la documentation)
    shortname = TL-MR100
    
    # Secret partagé entre routeur et serveur
    # ⚠️ IMPORTANT: Doit être identique dans la config du routeur
    # Générer: openssl rand -hex 16 (32 caractères minimum)
    secret = Pj8K2qL9xR5wM3nP7dF4vB6tH1sQ9cZ2

    # Protocole utilisé
    protocol = udp
    
    # Options supplémentaires
    # Accepter les paquets fragmente
    require_message_authenticator = no
    
    # Activer l'enregistrement détaillé
    # log_clients = yes
}

#############################################################################
# CLIENT: Site Secondaire (Optionnel - À ajouter au besoin)
#############################################################################
# client 192.168.20.1 {
# Nom du client (pour la documentation)
#     ipaddr  = 192.168.20.1
#     shortname = Site-2
#     secret = Ak3M7jL2pQ6wN9rT4vB8xH5sF1cD3zE0
#     protocol = udp
# }

#############################################################################
# CLIENT: localhost (Pour tests locaux et radtest)
#############################################################################
client localhost {
    # Adresse IP de loopback
    ipaddr    = 127.0.0.1
    shortname = localhost

    # Secret pour les tests locaux (radtest)
    secret    = testing123

    proto     = udp
}

#############################################################################
# NOTES DE SÉCURITÉ
#############################################################################
#
# 1. SECRET PARTAGÉ:
#    - Minimum 16 caractères (32+ recommandé)
#    - Doit être IDENTIQUE dans clients.conf ET config routeur
#    - À changer en production
#    - Générer: openssl rand -hex 16
#
# 2. IP CLIENTS:
#    - Utiliser l'IP WAN du routeur/NAS
#    - Peut être FQDN (ex: router.gym.fr)
#    - IPv6 supporté (ex: 2001:db8::1)
#
# 3. AUTHENTIFICATION:
#    - Message-Authenticator: Force intégrité des paquets
#    - À activer en production pour sécurité renforcée
#
# 4. FLUX:
#    Client (Wi-Fi) → Routeur (NAS) → Serveur RADIUS
#    Routeur doit être dans cette liste pour être accepté
#
#############################################################################
